@model IEnumerable<ProductDto>
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<br /><br />
<div class="container p-4 border">
    <div class="row pb-2">
        <div class="col">
            <h1 class="text-info">Products list</h1>
        </div>
        <div class="col text-end">
            <a class="btn btn-outline-primary mt-1" asp-action="Upsert"><i class="fa-regular fa-plus"></i> Create new product</a>
        </div>
        <hr />
        <div class="col">
            <table class="table table-borderless table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Price</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                @foreach(var each in Model)
                {
                    <tr>
                        <td>@each.ProductName</td>
                        <td>@each.CategoryName</td>
                        <td>@each.Price</td>
                        <td>
                            <div class="col">
                                <a class="btn btn-primary" asp-action="Upsert" asp-route-id="@each.ProductId">
                                    <i class="fa-regular fa-pen-to-square"></i>
                                </a>
                                <a class="btn btn-danger" onclick="deleteProduct(@each.ProductId)">
                                    <i class="fa-regular fa-trash-can"></i>
                                </a>
                            </div>
                        </td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>
</div>

@section Scripts
{
    <script src="~/js/product.js" type="text/javascript"></script>
}